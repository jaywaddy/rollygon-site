---
import { type ColorName, type PatternName, Color, Pattern, setStyles } from "@/scripts/interface";

interface Props {
	title: string;
	color?: ColorName;
	pattern?: PatternName;
}

const { title, color = "neutral", pattern = "5" } = Astro.props;
---

<div
	class="flex flex-col bg-surface-primary border-lg shadow-lg w-full h-fit"
	style={setStyles(Color[color], Pattern[pattern])}
>
	<h2 class="bg-[var(--color)] rounded-t-md p-8">{title}</h2>
	<div class="flex flex-col gap-8 p-8 border-top">
		<slot />
	</div>
</div>

<style>
	h2 {
		position: relative;
		overflow: hidden;
		z-index: 0;
		text-shadow:
			0 0 1em var(--bg),
			0 0 1em var(--bg),
			0 0 1em var(--bg);

		&::before {
			position: absolute;
			top: 0;
			left: 0;
			border: solid var(--color) 8px;
			width: 100%;
			height: 100%;
			content: "";
			background-image: var(--pattern);
			opacity: 0.1;
			z-index: -1;
		}
	}
</style>
