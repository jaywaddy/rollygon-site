---
import Button from "@/ui/Button.astro";
import Link from "@/ui/Link.astro";
import SiteTitle from "@/components/SiteTitle.astro";

const currentPath = new URL(Astro.request.url).pathname;

function toggleActiveLink(label: string): "page" | "false" {
	if (currentPath === label) {
		return "page";
	}

	return "false";
}
---

<header id="header" class:list={["bg-white border-bottom sticky top-0 z-10 py-6", "max-sm:py-4"]}>
	<nav class="relative wrapper flex items-center justify-between">
		<SiteTitle />
		<ul
			id="site-navigation"
			class:list={[
				"flex items-center gap-8",
				"max-sm:hidden max-sm:absolute max-sm:items-start max-sm:top-18 max-sm:right-3 max-sm:card-lg",
			]}
		>
			<li>
				<Link label="Home" href="/" isActive={toggleActiveLink("/")} />
			</li>
			<li>
				<Link label="Models" isActive={toggleActiveLink("/models")} />
			</li>
			<li>
				<Link label="Tools" isActive={toggleActiveLink("/tools")} />
			</li>
			<li>
				<Link label="Posts" isActive={toggleActiveLink("/posts")} />
			</li>
			<li>
				<Link label="About" isActive={toggleActiveLink("/about")} />
			</li>
			<li class="max-sm:hidden">
				<Button label="Get free tools" href="/tools" icon="download" primary />
			</li>
		</ul>
		<Button class:list={["hidden", "max-sm:flex"]} label="Menu" icon="none" type="toggle" />
	</nav>
</header>

<style>
	#header:has(nav form label input:checked) #site-navigation {
		display: flex;
	}
</style>
